<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>StudyTube Pro ‚Äî DSA Learning Platform</title>
  <link rel="icon" type="image/png" href="new.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Live background -->
  <canvas id="bgCanvas" aria-hidden="true"></canvas>

  <div id="app">
    <!-- Global notifications -->
    <div id="toast" class="toast" aria-live="polite" aria-atomic="true"></div>

    <!-- Top App Bar -->
    <header class="topbar surface blur">
      <div class="topbar-left">
        <a class="brand" href="#" aria-label="StudyTube Pro">
          <!-- Code-oriented SVG logo -->
          <svg class="brand-logo" width="34" height="34" viewBox="0 0 48 48" aria-hidden="true">
            <defs>
              <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
                <stop offset="0%" stop-color="#00e676"/>
                <stop offset="100%" stop-color="#14f195"/>
              </linearGradient>
            </defs>
            <rect x="2" y="2" width="44" height="44" rx="10" fill="rgba(0,230,118,0.12)" stroke="#153226"/>
            <path d="M16 30 L8 24 L16 18" stroke="url(#g)" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M32 18 L40 24 L32 30" stroke="url(#g)" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
            <rect x="21" y="21" width="6" height="6" rx="2" fill="url(#g)"/>
          </svg>
          <div class="brand-text">
            <strong>StudyTube</strong><span class="muted">/Pro</span>
          </div>
        </a>
        <div class="breadcrumb only-desktop">
          <span>courses</span>
          <span class="sep">/</span>
          <span id="crumbCourse">dsa-in-cpp</span>
        </div>
      </div>

      <div class="topbar-center">
        <div class="search">
          <span class="icon">‚åï</span>
          <input id="globalSearch" placeholder="grep lectures | grep notes" aria-label="Global search" />
          <kbd class="hint">/</kbd>
        </div>
      </div>

      <div class="topbar-right">
        <button id="bgModeToggle" class="icon-btn" title="Toggle background mode" aria-label="Toggle background">BG: Off</button>
        <button id="themeToggle" class="icon-btn" title="Toggle theme" aria-label="Toggle theme">‚óê</button>
        <button class="btn strong" id="openSettings">Settings</button>
      </div>
    </header>

    <div class="layout">
      <!-- Sidebar -->
      <aside class="sidebar surface" id="sidebarNav" aria-label="Primary">
        <nav class="nav">
          <div class="nav-section">
            <div class="nav-label">course</div>
            <button class="nav-item active" data-tab="overview">~/overview</button>
            <button class="nav-item" data-tab="curriculum">~/curriculum</button>
            <button class="nav-item" data-tab="notes">~/notes</button>
          </div>
          <div class="nav-section">
            <div class="nav-label">utils</div>
            <button class="nav-item" id="focusTimerNav">‚è± focus-timer</button>
            <button class="nav-item danger" id="resetAllData">rm -rf course-data</button>
          </div>
        </nav>
        <div class="sidebar-footer">
          <div class="mini-clock">
            <div id="digitalClock">00:00:00</div>
            <div id="dateDisplay" class="muted">Loading...</div>
          </div>
        </div>
      </aside>

      <!-- Content -->
      <main class="content">
        <!-- Hero -->
        <section class="hero surface">
          <div class="hero-left">
            <h1 id="courseTitle"><span class="mono">$</span> DSA Playlist in C++</h1>
            <div class="sub meta">
              <span>author: <strong>Coder Army</strong></span>
              <span class="dot">‚Ä¢</span>
              <span id="playlistCount">‚Äî videos</span>
              <span class="dot">‚Ä¢</span>
              <span id="courseLevel">level: all</span>
            </div>
            <div class="hero-stats">
              <div class="stat">
                <div class="value mono" id="currentVideo">1</div>
                <div class="label">current</div>
              </div>
              <div class="stat">
                <div class="value mono" id="totalVideos">‚Äî</div>
                <div class="label">total</div>
              </div>
              <div class="stat">
                <div class="value mono" id="completionPercent">0%</div>
                <div class="label">completed</div>
              </div>
              <div class="stat">
                <div class="value mono" id="studyTime">0h 0m</div>
                <div class="label">study-time</div>
              </div>
              <div class="stat">
                <div class="value mono" id="streakValue">0</div>
                <div class="label">streak</div>
              </div>
            </div>
          </div>
          <div class="hero-right">
            <div class="pill-group">
              <div class="pill">
                <span class="mono">playlist_id</span>
                <input id="playlistId" value="PLQEaRBV9gAFu4ovJ41PywklqI7IyXwr01" />
              </div>
              <div class="pill">
                <span class="mono">api_key</span>
                <input id="apiKey" placeholder="YouTube Data API v3 key" />
              </div>
              <button id="loadPl" class="btn strong">Load</button>
            </div>
          </div>
        </section>

        <!-- Grid -->
        <section class="grid two-cols">
          <div class="col">
            <!-- Player -->
            <section class="card player-card surface">
              <div class="player-shell">
                <div id="player" class="player"></div>
                <div class="player-overlay" id="miniPlayer">
                  <div class="mini-info">
                    <div class="mini-title mono" id="miniTitle">Loading...</div>
                    <div class="mini-meta" id="miniMeta">‚Äî</div>
                  </div>
                  <div class="mini-controls">
                    <button class="icon-btn" id="miniPrev" title="Previous">‚èÆ</button>
                    <button class="icon-btn" id="miniPlayPause" title="Play/Pause">‚èØ</button>
                    <button class="icon-btn" id="miniNext" title="Next">‚è≠</button>
                  </div>
                </div>
              </div>

              <div class="video-panel">
                <div class="video-info">
                  <div class="title mono" id="videoTitle">> Loading DSA content...</div>
                  <div class="meta" id="videoMeta">Get ready to master Data Structures & Algorithms.</div>
                  <div class="progress-info" id="videoProgress">No progress saved</div>
                </div>
                <div class="video-controls">
                  <div class="control-group">
                    <button class="btn" id="prevBtn">‚èÆ prev</button>
                    <button class="btn" id="nextBtn">next ‚è≠</button>
                    <button class="btn ghost" id="resumeBtn">üìç resume</button>
                    <button class="btn warning ghost" id="markDoneBtn">‚úì mark done</button>
                    <button class="btn danger ghost" id="resetVideoProgress">‚Ü∫ reset</button>
                  </div>
                  <div class="control-group">
                    <span class="muted mono">jump ‚Üí</span>
                    <input type="number" class="input small mono" id="jumpInput" min="1" placeholder="lec #" />
                    <button class="btn" id="jumpBtn">go</button>
                  </div>
                  <div class="control-group">
                    <span class="muted mono">speed</span>
                    <select id="playbackRate" class="input small mono">
                      <option value="0.75">0.75x</option>
                      <option value="1" selected>1x</option>
                      <option value="1.25">1.25x</option>
                      <option value="1.5">1.5x</option>
                      <option value="1.75">1.75x</option>
                      <option value="2">2x</option>
                    </select>
                  </div>
                </div>
              </div>
            </section>

            <!-- Tabs -->
            <section class="tabs surface">
              <div class="tabbar">
                <button class="tab active" data-tab="overview">overview</button>
                <button class="tab" data-tab="curriculum">curriculum</button>
                <button class="tab" data-tab="notes">notes</button>
              </div>

              <div class="tabpanel active" id="tab-overview">
                <div class="overview">
                  <div class="overview-block">
                    <h3 class="mono">about()</h3>
                    <p>Master Data Structures and Algorithms in C++ with a structured, project‚Äëready curriculum. Track progress, add timestamped notes, and stay focused with an integrated Pomodoro timer.</p>
                    <ul class="bullets">
                      <li>Structured curriculum with resume support</li>
                      <li>Accurate progress tracking across sessions</li>
                      <li>Timestamped notes per lecture</li>
                      <li>Focus timer with presets and toasts</li>
                      <li>Dark/Light theme + keyboard shortcuts</li>
                    </ul>
                  </div>
                  <div class="overview-grid">
                    <div class="kpi">
                      <div class="kpi-label">watched</div>
                      <div class="kpi-value mono" id="kpiWatched">0</div>
                    </div>
                    <div class="kpi">
                      <div class="kpi-label">in_progress</div>
                      <div class="kpi-value mono" id="kpiInProgress">0</div>
                    </div>
                    <div class="kpi">
                      <div class="kpi-label">unwatched</div>
                      <div class="kpi-value mono" id="kpiUnwatched">‚Äî</div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="tabpanel" id="tab-curriculum">
                <div class="curriculum-header">
                  <div class="search">
                    <span class="icon">‚åï</span>
                    <input id="playlistSearch" placeholder="search lectures..." />
                  </div>
                  <div class="filters">
                    <button class="chip active" data-filter="all">all</button>
                    <button class="chip" data-filter="unwatched">unwatched</button>
                    <button class="chip" data-filter="progress">in-progress</button>
                    <button class="chip" data-filter="watched">completed</button>
                  </div>
                </div>
                <!-- Scroll-based curriculum box -->
                <div class="playlist-scroll">
                  <div class="playlist" id="playlistList" aria-live="polite"></div>
                </div>
              </div>

              <div class="tabpanel" id="tab-notes">
                <div class="notes">
                  <div class="note-form">
                    <input type="text" id="todoInput" class="input mono" placeholder="add note or task‚Ä¶" />
                    <button class="btn ghost" id="addTimestamp">[ts]</button>
                    <button class="btn" id="todoAdd">‚ûï add</button>
                  </div>
                  <div class="note-list" id="todoList"></div>
                </div>
              </div>
            </section>
          </div>

          <!-- Right rail -->
          <div class="col right">
            <section class="card surface">
              <h3 class="mono">progress</h3>
              <div class="progress-line">
                <div class="progress-line-fill" id="courseProgressFill" style="width: 0%"></div>
              </div>
              <div class="progress-meta">
                <span id="courseProgressLabel">0% complete</span>
                <div class="actions">
                  <button class="btn ghost danger" id="resetCourseProgress">reset</button>
                </div>
              </div>
              <div class="badges">
                <span class="badge" id="badgeStarter">starter</span>
                <span class="badge" id="badgeFocused">focused</span>
                <span class="badge" id="badgeAchiever">achiever</span>
              </div>
            </section>

            <section class="card surface">
              <div class="card-head">
                <h3 class="mono">focus_timer</h3>
              </div>
              <div class="timer-display mono" id="timerDisplay">25:00</div>
              <div class="timer-controls">
                <button class="btn success" id="timerStart">start</button>
                <button class="btn warning" id="timerPause">pause</button>
                <button class="btn danger ghost" id="timerReset">reset</button>
              </div>
              <div class="timer-presets">
                <button class="chip active" data-minutes="25">25m</button>
                <button class="chip" data-minutes="15">15m</button>
                <button class="chip" data-minutes="45">45m</button>
                <button class="chip" data-minutes="60">60m</button>
              </div>
            </section>

            <section class="card surface">
              <h3 class="mono">stats</h3>
              <ul class="mini-stats">
                <li><span>last_watched</span><strong id="lastWatched">‚Äî</strong></li>
                <li><span>playback_rate</span><strong id="speedStat">1x</strong></li>
                <li><span>session_time</span><strong id="sessionTime">0m</strong></li>
              </ul>
            </section>
          </div>
        </section>
      </main>
    </div>

    <!-- Settings Modal -->
    <dialog id="settingsModal" class="modal surface">
      <div class="modal-head">
        <h3 class="mono">settings</h3>
        <button class="icon-btn" id="closeSettings" aria-label="Close">‚úñ</button>
      </div>
      <div class="modal-body">
        <div class="grid two-cols">
          <div class="col">
            <label class="label mono">playlist_id</label>
            <input id="mPlaylistId" class="input mono" placeholder="YouTube playlist ID" />
          </div>
          <div class="col">
            <label class="label mono">api_key</label>
            <input id="mApiKey" class="input mono" placeholder="YouTube Data API v3 key" />
          </div>
        </div>
        <div class="grid two-cols">
          <div class="col">
            <label class="label mono">default_speed</label>
            <select id="mDefaultSpeed" class="input mono">
              <option>0.75</option>
              <option selected>1</option>
              <option>1.25</option>
              <option>1.5</option>
              <option>1.75</option>
              <option>2</option>
            </select>
          </div>
          <div class="col">
            <label class="label mono">theme</label>
            <select id="mTheme" class="input mono">
              <option value="dark" selected>dark</option>
              <option value="light">light</option>
            </select>
          </div>
        </div>
        <div class="grid">
          <div class="col">
            <label class="label mono">data</label>
            <div class="settings-row">
              <button class="btn" id="exportData">export</button>
              <label class="btn ghost" style="cursor:pointer">
                import
                <input type="file" id="importData" accept="application/json" hidden />
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-foot">
        <button class="btn ghost" id="settingsCancel">cancel</button>
        <button class="btn strong" id="settingsSave">save</button>
      </div>
    </dialog>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
